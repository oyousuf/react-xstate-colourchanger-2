{"code":"(this[\"webpackJsonpxstate-react-typescript-template\"]=this[\"webpackJsonpxstate-react-typescript-template\"]||[]).push([[0],{22:function(t,e){throw new Error('Module parse failed: Unexpected token (1:1260)\\nFile was processed with these loaders:\\n * ./node_modules/babel-loader/lib/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n> import{send,assign}from\"xstate\";function say(text){return send(_context=>({type:\"SPEAK\",value:text}));}function listen(){return send(\\'LISTEN\\');}const grammar={\"John\":{person:\"John Appleseed\"},\"Zhe\":{person:\"Zhe Han\"},\"Siyi\":{person:\"Siyi Gu\"},\"Jae Eun\":{person:\"Jae Eun Hong\"},\"Oreen\":{person:\"Oreen Yousuf\"},\"Angeliki\":{person:\"Angeliki Zagoura\"},\"Flor\":{person:\"Flor del Ortiz\"},\"on Monday\":{day:\"Monday\"},\"on Tuesday\":{day:\"Tuesday\"},\"on Wednesday\":{day:\"Wednesday\"},\"on Thursday\":{day:\"Thursday\"},\"on Friday\":{day:\"Friday\"},\"on Saturday\":{day:\"Saturday\"},\"on Sunday\":{day:\"Sunday\"},\"at one\":{time:\"01:00\"},\"at two\":{time:\"02:00\"},\"at three\":{time:\"03:00\"},\"at four\":{time:\"04:00\"},\"at five\":{time:\"05:00\"},\"at six\":{time:\"06:00\"},\"at seven\":{time:\"07:00\"},\"at eight\":{time:\"08:00\"},\"at nine\":{time:\"09:00\"},\"at ten\":{time:\"10:00\"},\"at eleven\":{time:\"11:00\"},\"at twelve\":{time:\"12:00\"},\"at thirteen\":{time:\"13:00\"},\"at fourteen\":{time:\"14:00\"},\"at fifteen\":{time:\"15:00\"},\"at sixteen\":{time:\"16:00\"},\"at seventeen\":{time:\"17:00\"},\"at eighteen\":{time:\"18:00\"},\"at nineteen\":{time:\"19:00\"},\"at twenty\":{time:\"20:00\"},\"at twenty one\":{time:\"21:00\"},\"at twenty two\":{time:\"22:00\"},\"at twenty three\":{time:\"23:00\"},\"at twenty four\":{time:\"00:00\"}};const grammar2;export const dmMachine={initial:\\'init\\',states:{init:{on:{CLICK:\\'welcome\\'}},welcome:{initial:\"prompt\",on:{ENDSPEECH:\"who\"},states:{prompt:{entry:say(\"Let\\'s create an appointment\")}}},who:{initial:\"prompt\",on:{RECOGNISED:[{cond:context=>grammar[context.recResult].person!==undefined,actions:assign(context=>{return{person:grammar[context.recResult].person};}),target:\"day\"},{target:\".nomatch\"}]},states:{prompt:{entry:say(\"Who are you meeting with?\"),on:{ENDSPEECH:\"ask\"}},ask:{entry:listen()},nomatch:{entry:say(\"Sorry I don\\'t know them\"),on:{ENDSPEECH:\"prompt\"}}}},day:{initial:\"prompt\",on:{ENDSPEECH:\"init\"},states:{prompt:{entry:send(context=>({type:\"SPEAK\",value:\"OK. \".concat(context.person,\". On which day is your meeting?\")}))}}}}};')},26:function(t,e,n){\"use strict\";n.r(e);var a=n(25),o=n(11),s=(n(27),n(7),n(21)),i=n(39),r=n(3),c=n(15),l=n(38),d=n(22),m=n(20),p=n(12);Object(l.a)({url:\"https://statecharts.io/inspect\",iframe:!1});const u=Object(i.a)({id:\"root\",type:\"parallel\",states:{dm:Object(o.a)({},d.dmMachine),asrtts:{initial:\"idle\",states:{idle:{on:{LISTEN:\"recognising\",SPEAK:{target:\"speaking\",actions:Object(r.b)(((t,e)=>({ttsAgenda:e.value})))}}},recognising:{entry:\"recStart\",exit:\"recStop\",on:{ASRRESULT:{actions:[\"recLogResult\",Object(r.b)(((t,e)=>({recResult:e.value})))],target:\".match\"},RECOGNISED:\"idle\"},states:{match:{entry:Object(r.k)(\"RECOGNISED\")}}},speaking:{entry:\"ttsStart\",on:{ENDSPEECH:\"idle\"}}}}}},{actions:{recLogResult:t=>{console.log(\"<< ASR: \"+t.recResult)},test:()=>{console.log(\"test\")},logIntent:t=>{console.log(\"<< NLU intent: \"+t.nluData.intent.name)}}}),y=t=>{switch(!0){case t.state.matches({asrtts:\"recognising\"}):return Object(p.jsx)(\"button\",Object(o.a)(Object(o.a)({type:\"button\",className:\"glow-on-hover\",style:{animation:\"glowing 20s linear\"}},t),{},{children:\"Listening...\"}));case t.state.matches({asrtts:\"speaking\"}):return Object(p.jsx)(\"button\",Object(o.a)(Object(o.a)({type:\"button\",className:\"glow-on-hover\",style:{animation:\"bordering 1s infinite\"}},t),{},{children:\"Speaking...\"}));default:return Object(p.jsx)(\"button\",Object(o.a)(Object(o.a)({type:\"button\",className:\"glow-on-hover\"},t),{},{children:\"Click to start\"}))}};function g(){const t=Object(m.useSpeechSynthesis)({onEnd:()=>{g(\"ENDSPEECH\")}}),e=t.speak,n=t.cancel,o=(t.speaking,Object(m.useSpeechRecognition)({onResult:t=>{g({type:\"ASRRESULT\",value:t})}})),s=o.listen,i=(o.listening,o.stop),r=Object(c.b)(u,{devTools:!0,actions:{recStart:Object(c.a)((()=>{console.log(\"Ready to receive a color command.\"),s({interimResults:!1,continuous:!0})})),recStop:Object(c.a)((()=>{console.log(\"Recognition stopped.\"),i()})),changeColour:Object(c.a)((t=>{console.log(\"Repainting...\"),document.body.style.background=t.recResult})),ttsStart:Object(c.a)(((t,n)=>{console.log(\"Speaking...\"),e({text:t.ttsAgenda})})),ttsCancel:Object(c.a)(((t,e)=>{console.log(\"TTS STOP...\"),n()}))}}),l=Object(a.a)(r,3),d=l[0],g=l[1];l[2];return Object(p.jsx)(\"div\",{className:\"App\",children:Object(p.jsx)(y,{state:d,onClick:()=>g(\"CLICK\")})})}const h=document.getElementById(\"root\");s.render(Object(p.jsx)(g,{}),h)},27:function(t,e,n){}},[[26,1,2]]]);","name":"static/js/main.d8ba83b9.chunk.js","map":{"version":3,"sources":["static/js/main.d8ba83b9.chunk.js"],"names":["this","push","22","module","exports","Error","26","__webpack_exports__","__webpack_require__","r","C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_4__","xstate__WEBPACK_IMPORTED_MODULE_5__","xstate__WEBPACK_IMPORTED_MODULE_6__","_xstate_react__WEBPACK_IMPORTED_MODULE_7__","_xstate_inspect__WEBPACK_IMPORTED_MODULE_8__","_dmAppointment__WEBPACK_IMPORTED_MODULE_9__","react_speech_kit__WEBPACK_IMPORTED_MODULE_10__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__","Object","url","iframe","machine","id","type","states","dm","asrtts","initial","idle","on","LISTEN","SPEAK","target","actions","_context","event","ttsAgenda","value","recognising","entry","exit","ASRRESULT","recResult","RECOGNISED","match","speaking","ENDSPEECH","recLogResult","context","console","log","test","logIntent","nluData","intent","name","ReactiveButton","props","state","matches","className","style","animation","children","App","_useSpeechSynthesis","onEnd","send","speak","cancel","_useSpeechRecognition","onResult","result","listen","stop","listening","_useMachine","devTools","recStart","interimResults","continuous","recStop","changeColour","document","body","background","ttsStart","effect","text","ttsCancel","_useMachine2","current","onClick","rootElement","getElementById","27"],"mappings":"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"},"input":"(this[\"webpackJsonpxstate-react-typescript-template\"] = this[\"webpackJsonpxstate-react-typescript-template\"] || []).push([[0],{\n\n/***/ 22:\n/***/ (function(module, exports) {\n\nthrow new Error(\"Module parse failed: Unexpected token (1:1260)\\nFile was processed with these loaders:\\n * ./node_modules/babel-loader/lib/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n> import{send,assign}from\\\"xstate\\\";function say(text){return send(_context=>({type:\\\"SPEAK\\\",value:text}));}function listen(){return send('LISTEN');}const grammar={\\\"John\\\":{person:\\\"John Appleseed\\\"},\\\"Zhe\\\":{person:\\\"Zhe Han\\\"},\\\"Siyi\\\":{person:\\\"Siyi Gu\\\"},\\\"Jae Eun\\\":{person:\\\"Jae Eun Hong\\\"},\\\"Oreen\\\":{person:\\\"Oreen Yousuf\\\"},\\\"Angeliki\\\":{person:\\\"Angeliki Zagoura\\\"},\\\"Flor\\\":{person:\\\"Flor del Ortiz\\\"},\\\"on Monday\\\":{day:\\\"Monday\\\"},\\\"on Tuesday\\\":{day:\\\"Tuesday\\\"},\\\"on Wednesday\\\":{day:\\\"Wednesday\\\"},\\\"on Thursday\\\":{day:\\\"Thursday\\\"},\\\"on Friday\\\":{day:\\\"Friday\\\"},\\\"on Saturday\\\":{day:\\\"Saturday\\\"},\\\"on Sunday\\\":{day:\\\"Sunday\\\"},\\\"at one\\\":{time:\\\"01:00\\\"},\\\"at two\\\":{time:\\\"02:00\\\"},\\\"at three\\\":{time:\\\"03:00\\\"},\\\"at four\\\":{time:\\\"04:00\\\"},\\\"at five\\\":{time:\\\"05:00\\\"},\\\"at six\\\":{time:\\\"06:00\\\"},\\\"at seven\\\":{time:\\\"07:00\\\"},\\\"at eight\\\":{time:\\\"08:00\\\"},\\\"at nine\\\":{time:\\\"09:00\\\"},\\\"at ten\\\":{time:\\\"10:00\\\"},\\\"at eleven\\\":{time:\\\"11:00\\\"},\\\"at twelve\\\":{time:\\\"12:00\\\"},\\\"at thirteen\\\":{time:\\\"13:00\\\"},\\\"at fourteen\\\":{time:\\\"14:00\\\"},\\\"at fifteen\\\":{time:\\\"15:00\\\"},\\\"at sixteen\\\":{time:\\\"16:00\\\"},\\\"at seventeen\\\":{time:\\\"17:00\\\"},\\\"at eighteen\\\":{time:\\\"18:00\\\"},\\\"at nineteen\\\":{time:\\\"19:00\\\"},\\\"at twenty\\\":{time:\\\"20:00\\\"},\\\"at twenty one\\\":{time:\\\"21:00\\\"},\\\"at twenty two\\\":{time:\\\"22:00\\\"},\\\"at twenty three\\\":{time:\\\"23:00\\\"},\\\"at twenty four\\\":{time:\\\"00:00\\\"}};const grammar2;export const dmMachine={initial:'init',states:{init:{on:{CLICK:'welcome'}},welcome:{initial:\\\"prompt\\\",on:{ENDSPEECH:\\\"who\\\"},states:{prompt:{entry:say(\\\"Let's create an appointment\\\")}}},who:{initial:\\\"prompt\\\",on:{RECOGNISED:[{cond:context=>grammar[context.recResult].person!==undefined,actions:assign(context=>{return{person:grammar[context.recResult].person};}),target:\\\"day\\\"},{target:\\\".nomatch\\\"}]},states:{prompt:{entry:say(\\\"Who are you meeting with?\\\"),on:{ENDSPEECH:\\\"ask\\\"}},ask:{entry:listen()},nomatch:{entry:say(\\\"Sorry I don't know them\\\"),on:{ENDSPEECH:\\\"prompt\\\"}}}},day:{initial:\\\"prompt\\\",on:{ENDSPEECH:\\\"init\\\"},states:{prompt:{entry:send(context=>({type:\\\"SPEAK\\\",value:\\\"OK. \\\".concat(context.person,\\\". On which day is your meeting?\\\")}))}}}}};\");\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(25);\n/* harmony import */ var C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(27);\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(15);\n/* harmony import */ var _xstate_inspect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(38);\n/* harmony import */ var _dmAppointment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(22);\n/* harmony import */ var _dmAppointment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_dmAppointment__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_speech_kit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(20);\n/* harmony import */ var react_speech_kit__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_speech_kit__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(12);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);\nObject(_xstate_inspect__WEBPACK_IMPORTED_MODULE_8__[/* inspect */ \"a\"])({url:\"https://statecharts.io/inspect\",iframe:false});const machine=Object(xstate__WEBPACK_IMPORTED_MODULE_5__[/* Machine */ \"a\"])({id:'root',type:'parallel',states:{dm:Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},_dmAppointment__WEBPACK_IMPORTED_MODULE_9__[\"dmMachine\"]),asrtts:{initial:'idle',states:{idle:{on:{LISTEN:'recognising',SPEAK:{target:'speaking',actions:Object(xstate__WEBPACK_IMPORTED_MODULE_6__[/* assign */ \"b\"])((_context,event)=>{return{ttsAgenda:event.value};})}}},recognising:{entry:'recStart',exit:'recStop',on:{ASRRESULT:{actions:['recLogResult',Object(xstate__WEBPACK_IMPORTED_MODULE_6__[/* assign */ \"b\"])((_context,event)=>{return{recResult:event.value};})],target:'.match'},RECOGNISED:'idle'},states:{match:{entry:Object(xstate__WEBPACK_IMPORTED_MODULE_6__[/* send */ \"k\"])('RECOGNISED')}}},speaking:{entry:'ttsStart',on:{ENDSPEECH:'idle'}}}}}},{actions:{recLogResult:context=>{/* context.recResult = event.recResult; */console.log('<< ASR: '+context.recResult);},test:()=>{console.log('test');},logIntent:context=>{/* context.nluData = event.data */console.log('<< NLU intent: '+context.nluData.intent.name);}}});const ReactiveButton=props=>{switch(true){case props.state.matches({asrtts:'recognising'}):return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({type:\"button\",className:\"glow-on-hover\",style:{animation:\"glowing 20s linear\"}},props),{},{children:\"Listening...\"}));case props.state.matches({asrtts:'speaking'}):return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({type:\"button\",className:\"glow-on-hover\",style:{animation:\"bordering 1s infinite\"}},props),{},{children:\"Speaking...\"}));default:return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({type:\"button\",className:\"glow-on-hover\"},props),{},{children:\"Click to start\"}));}};function App(){const _useSpeechSynthesis=Object(react_speech_kit__WEBPACK_IMPORTED_MODULE_10__[\"useSpeechSynthesis\"])({onEnd:()=>{send('ENDSPEECH');}}),speak=_useSpeechSynthesis.speak,cancel=_useSpeechSynthesis.cancel,speaking=_useSpeechSynthesis.speaking;const _useSpeechRecognition=Object(react_speech_kit__WEBPACK_IMPORTED_MODULE_10__[\"useSpeechRecognition\"])({onResult:result=>{send({type:\"ASRRESULT\",value:result});}}),listen=_useSpeechRecognition.listen,listening=_useSpeechRecognition.listening,stop=_useSpeechRecognition.stop;const _useMachine=Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* useMachine */ \"b\"])(machine,{devTools:true,actions:{recStart:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])(()=>{console.log('Ready to receive a color command.');listen({interimResults:false,continuous:true});}),recStop:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])(()=>{console.log('Recognition stopped.');stop();}),changeColour:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])(context=>{console.log('Repainting...');document.body.style.background=context.recResult;}),ttsStart:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])((context,effect)=>{console.log('Speaking...');speak({text:context.ttsAgenda});}),ttsCancel:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])((context,effect)=>{console.log('TTS STOP...');cancel();})/* speak: asEffect((context) => {\n\t     * console.log('Speaking...');\n             *     speak({text: context.ttsAgenda })\n             * } */}}),_useMachine2=Object(C_Users_User_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useMachine,3),current=_useMachine2[0],send=_useMachine2[1],service=_useMachine2[2];return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(ReactiveButton,{state:current,onClick:()=>send('CLICK')})});};/* RASA API\n *  */const proxyurl=\"https://cors-anywhere.herokuapp.com/\";const rasaurl='https://rasa-nlu-api-00.herokuapp.com/model/parse';const nluRequest=text=>fetch(new Request(proxyurl+rasaurl,{method:'POST',headers:{'Origin':'http://maraev.me'},// only required with proxy\nbody:\"{\\\"text\\\": \\\"\".concat(text,\"\\\"}\")})).then(data=>data.json());const rootElement=document.getElementById(\"root\");react_dom__WEBPACK_IMPORTED_MODULE_4__[\"render\"](/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(App,{}),rootElement);\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[26,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:/Users/User/react-xstate-colourchanger/src/index.tsx","C:\\Users\\User\\react-xstate-colourchanger\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-6-0!C:\\Users\\User\\react-xstate-colourchanger\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-6-1!C:\\Users\\User\\react-xstate-colourchanger\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\User\\react-xstate-colourchanger\\node_modules\\resolve-url-loader\\index.js??ref--5-oneOf-6-3!C:\\Users\\User\\react-xstate-colourchanger\\node_modules\\sass-loader\\dist\\cjs.js??ref--5-oneOf-6-4!C:\\Users\\User\\react-xstate-colourchanger\\src\\styles.scss"],"names":["inspect","url","iframe","machine","Machine","id","type","states","dm","dmMachine","asrtts","initial","idle","on","LISTEN","SPEAK","target","actions","assign","_context","event","ttsAgenda","value","recognising","entry","exit","ASRRESULT","recResult","RECOGNISED","match","send","speaking","ENDSPEECH","recLogResult","context","console","log","test","logIntent","nluData","intent","name","ReactiveButton","props","state","matches","animation","App","useSpeechSynthesis","onEnd","speak","cancel","useSpeechRecognition","onResult","result","listen","listening","stop","useMachine","devTools","recStart","asEffect","interimResults","continuous","recStop","changeColour","document","body","style","background","ttsStart","effect","text","ttsCancel","current","service","proxyurl","rasaurl","nluRequest","fetch","Request","method","headers","then","data","json","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"x","sourcesContent":["import \"./styles.scss\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Machine, assign, send, State } from \"xstate\";\nimport { useMachine, asEffect } from \"@xstate/react\";\nimport { inspect } from \"@xstate/inspect\";\nimport { dmMachine } from \"./dmAppointment\";\n\n\ninspect({\n    url: \"https://statecharts.io/inspect\",\n    iframe: false\n});\n\nimport { useSpeechSynthesis, useSpeechRecognition } from 'react-speech-kit';\n\n\nconst machine = Machine<SDSContext, any, SDSEvent>({\n    id: 'root',\n    type: 'parallel',\n    states: {\n        dm: {\n            ...dmMachine\n        },\n        asrtts: {\n            initial: 'idle',\n            states: {\n                idle: {\n                    on: {\n                        LISTEN: 'recognising',\n                        SPEAK: {\n                            target: 'speaking',\n                            actions: assign((_context, event) => { return { ttsAgenda: event.value } })\n                        }\n                    }\n                },\n                recognising: {\n                    entry: 'recStart',\n                    exit: 'recStop',\n                    on: {\n                        ASRRESULT: {\n                            actions: ['recLogResult',\n                                assign((_context, event) => { return { recResult: event.value } })],\n                            target: '.match'\n                        },\n                        RECOGNISED: 'idle'\n                    },\n                    states: {\n                        match: {\n                            entry: send('RECOGNISED'),\n                        },\n                    }\n                },\n                speaking: {\n                    entry: 'ttsStart',\n                    on: {\n                        ENDSPEECH: 'idle',\n                    }\n                }\n            }\n        }\n    },\n},\n    {\n        actions: {\n            recLogResult: (context: SDSContext) => {\n                /* context.recResult = event.recResult; */\n                console.log('<< ASR: ' + context.recResult);\n            },\n            test: () => {\n                console.log('test')\n            },\n            logIntent: (context: SDSContext) => {\n                /* context.nluData = event.data */\n                console.log('<< NLU intent: ' + context.nluData.intent.name)\n            }\n        },\n    });\n\n\n\ninterface Props extends React.HTMLAttributes<HTMLElement> {\n    state: State<SDSContext, any, any, any>;\n}\nconst ReactiveButton = (props: Props): JSX.Element => {\n    switch (true) {\n        case props.state.matches({ asrtts: 'recognising' }):\n            return (\n                <button type=\"button\" className=\"glow-on-hover\"\n                    style={{ animation: \"glowing 20s linear\" }} {...props}>\n                    Listening...\n                </button>\n            );\n        case props.state.matches({ asrtts: 'speaking' }):\n            return (\n                <button type=\"button\" className=\"glow-on-hover\"\n                    style={{ animation: \"bordering 1s infinite\" }} {...props}>\n                    Speaking...\n                </button>\n            );\n        default:\n            return (\n                <button type=\"button\" className=\"glow-on-hover\" {...props}>\n                    Click to start\n                </button >\n            );\n    }\n}\n\nfunction App() {\n    const { speak, cancel, speaking } = useSpeechSynthesis({\n        onEnd: () => {\n            send('ENDSPEECH');\n        },\n    });\n    const { listen, listening, stop } = useSpeechRecognition({\n        onResult: (result: any) => {\n            send({ type: \"ASRRESULT\", value: result });\n        },\n    });\n    const [current, send, service] = useMachine(machine, {\n        devTools: true,\n        actions: {\n            recStart: asEffect(() => {\n                console.log('Ready to receive a color command.');\n                listen({\n                    interimResults: false,\n                    continuous: true\n                });\n            }),\n            recStop: asEffect(() => {\n                console.log('Recognition stopped.');\n                stop()\n            }),\n            changeColour: asEffect((context) => {\n                console.log('Repainting...');\n                document.body.style.background = context.recResult;\n            }),\n            ttsStart: asEffect((context, effect) => {\n                console.log('Speaking...');\n                speak({ text: context.ttsAgenda })\n            }),\n            ttsCancel: asEffect((context, effect) => {\n                console.log('TTS STOP...');\n                cancel()\n            })\n            /* speak: asEffect((context) => {\n\t     * console.log('Speaking...');\n             *     speak({text: context.ttsAgenda })\n             * } */\n        }\n    });\n\n\n    return (\n        <div className=\"App\">\n            <ReactiveButton state={current} onClick={() => send('CLICK')} />\n        </div>\n    )\n};\n\n\n\n/* RASA API\n *  */\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\nconst rasaurl = 'https://rasa-nlu-api-00.herokuapp.com/model/parse'\nconst nluRequest = (text: string) =>\n    fetch(new Request(proxyurl + rasaurl, {\n        method: 'POST',\n        headers: { 'Origin': 'http://maraev.me' }, // only required with proxy\n        body: `{\"text\": \"${text}\"}`\n    }))\n        .then(data => data.json());\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n    <App />,\n    rootElement);\n","// extracted by mini-css-extract-plugin"]}}